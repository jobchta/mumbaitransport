<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mumbai Transport - Test Page</title>
    <link rel="stylesheet" href="style.css">
    <script src="real_mumbai_transport_data.js"></script>
    <script src="app.js"></script>
</head>
<body>
    <div class="container">
        <h1>üöå Mumbai Transport Test Page</h1>
        
        <div class="card">
            <h2>System Status</h2>
            <div id="status"></div>
        </div>
        
        <div class="card">
            <h2>Route Planning Test</h2>
            <div class="form-group">
                <label for="from">From:</label>
                <input type="text" id="from" placeholder="Enter starting point">
            </div>
            <div class="form-group">
                <label for="to">To:</label>
                <input type="text" id="to" placeholder="Enter destination">
            </div>
            <button class="btn" onclick="testRoutePlanning()">Test Route Planning</button>
            <button class="btn" onclick="testData()">Test Data System</button>
        </div>
        
        <div class="card">
            <h2>Results</h2>
            <div id="results"></div>
        </div>
    </div>

    <script>
        // Test functions
        function testData() {
            const statusDiv = document.getElementById('status');
            let html = '<h3>System Check Results:</h3><ul>';
            
            // Check if real data is loaded
            if (typeof REAL_MUMBAI_TRANSPORT_DATA !== 'undefined') {
                html += '<li>‚úÖ Real Mumbai transport data loaded</li>';
                html += `<li>‚úÖ ${REAL_MUMBAI_TRANSPORT_DATA.bestBusRoutes.length} bus routes available</li>`;
                if (REAL_MUMBAI_TRANSPORT_DATA.localTrainLines) {
                    html += `<li>‚úÖ ${REAL_MUMBAI_TRANSPORT_DATA.localTrainLines.length} train lines available</li>`;
                }
            } else {
                html += '<li>‚ùå Real Mumbai transport data not loaded</li>';
            }
            
            // Check if app.js functions are available
            if (typeof showToast === 'function') {
                html += '<li>‚úÖ App.js functions loaded</li>';
            } else {
                html += '<li>‚ùå App.js functions not loaded</li>';
            }
            
            // Check if CSS is loaded
            const computedStyle = getComputedStyle(document.body);
            if (computedStyle.getPropertyValue('--primary')) {
                html += '<li>‚úÖ CSS variables loaded</li>';
            } else {
                html += '<li>‚ùå CSS variables not loaded</li>';
            }
            
            html += '</ul>';
            statusDiv.innerHTML = html;
            
            // Show toast notification
            if (typeof showToast === 'function') {
                showToast('System check completed!', 'success');
            }
        }
        
        function testRoutePlanning() {
            const from = document.getElementById('from').value || 'Colaba';
            const to = document.getElementById('to').value || 'Bandra';
            
            const resultsDiv = document.getElementById('results');
            let html = '<h3>Route Planning Test:</h3>';
            
            if (typeof REAL_MUMBAI_TRANSPORT_DATA !== 'undefined') {
                // Find routes using real data
                const routes = REAL_MUMBAI_TRANSPORT_DATA.bestBusRoutes.filter(route => 
                    route.from.toLowerCase().includes(from.toLowerCase()) || 
                    route.to.toLowerCase().includes(to.toLowerCase())
                );
                
                if (routes.length > 0) {
                    html += '<ul>';
                    routes.slice(0, 3).forEach(route => {
                        html += `<li><strong>${route.name}</strong>: ${route.from} ‚Üí ${route.to} (${route.estimatedDuration} min, ‚Çπ${route.fare})</li>`;
                    });
                    html += '</ul>';
                } else {
                    html += '<p>No direct routes found. Try different locations.</p>';
                }
            } else {
                html += '<p>Real data not available. Using fallback data.</p>';
                html += '<ul>';
                html += '<li><strong>Sample Route</strong>: Colaba ‚Üí Bandra (45 min, ‚Çπ15)</li>';
                html += '</ul>';
            }
            
            resultsDiv.innerHTML = html;
            
            // Show toast notification
            if (typeof showToast === 'function') {
                showToast('Route planning test completed!', 'success');
            }
        }
        
        // Auto-run system check on load
        window.addEventListener('load', function() {
            console.log('üß™ Test page loaded');
            setTimeout(testData, 500);
        });
    </script>
</body>
</html>
